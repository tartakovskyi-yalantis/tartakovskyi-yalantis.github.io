(this.webpackJsonpyalantis=this.webpackJsonpyalantis||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var s=c(1),a=c.n(s),n=c(15),r=c.n(n),i=c(17),l=c(3),j=c(16),o=c.n(j),u=function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0},b=c(0),h=function(e){var t=e.user,c=t.id,a=t.firstName,n=t.lastName,r=Object(s.useContext)(p),i=r.activeUsers,j=r.changeUserStatus,o=Object(s.useState)(i.includes(c)?1:0),u=Object(l.a)(o,2),h=u[0],m=u[1],O=0===h?"employee__name":"employee__name active",d=function(e){var t=Number(e.target.value);m(t),j(c,t)};return Object(b.jsxs)("li",{className:"employee",children:[Object(b.jsxs)("h4",{className:O,children:[a," ",n]}),Object(b.jsxs)("form",{children:[Object(b.jsxs)("label",{className:"form-check",children:[Object(b.jsx)("input",{type:"radio",name:"active_".concat(c),value:"0",id:"notActive_".concat(c),className:"form-check-input",onChange:d,checked:0===h}),Object(b.jsx)("span",{className:"form-check-label",children:"not active"})]}),Object(b.jsxs)("label",{className:"form-check",children:[Object(b.jsx)("input",{type:"radio",name:"active_".concat(c),value:"1",id:"active_".concat(c),className:"form-check-input",onChange:d,checked:1===h}),Object(b.jsx)("span",{className:"form-check-label",children:"active"})]})]})]})},m=function(e){var t=e.letter,c=e.users,s=Object.values(c).sort(u);return Object(b.jsxs)("div",{className:"col-4",children:[Object(b.jsx)("h3",{children:t}),s.length?Object(b.jsx)("ul",{className:"users-list",children:s.map((function(e){return Object(b.jsx)(h,{user:e},e.id)}))}):Object(b.jsx)("hr",{className:"no-users"})]})},O=function(){var e=Object(s.useContext)(p).usersByAlphabet;return Object(b.jsxs)("div",{className:"col-7",children:[Object(b.jsx)("h2",{children:"Employees"}),Object(b.jsx)("div",{className:"row",children:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"].map((function(t){return Object(b.jsx)(m,{letter:t,users:e[t]},t)}))})]})},d=function(e){var t=e.user,c=t.dob,s=t.firstName,a=t.lastName,n=e.month,r=function(){var e=new Date(c);return("0"+e.getDate()).slice(-2)+" "+n+" "+e.getFullYear()};return Object(b.jsxs)("li",{children:[s," ",a," - ",Object(b.jsx)(r,{})]})},x=a.a.memo(d),v=function(e){var t=e.name,c=e.users.sort(u);return Object(b.jsxs)("li",{className:"month",children:[Object(b.jsx)("h4",{className:"month__name",children:t}),Object(b.jsx)("ul",{children:c.map((function(e){return Object(b.jsx)(x,{user:e,month:t},e.id)}))})]})},f=function(){var e=Object(s.useContext)(p),t=e.usersRaw,c=e.activeUsers,a=Object(s.useState)({}),n=Object(l.a)(a,2),r=n[0],i=n[1],j=["January","February","March","April","May","June","July","August","September","October","November","December"];Object(s.useEffect)((function(){var e={};t.forEach((function(t){if(c.includes(t.id)){var s=t.dob.replace(/([0-9]+)-([0-9]+)-(.*)/,"$2");e.hasOwnProperty(s)?e[s].push(t):e[s]=[t]}})),i(e)}),[t,c]);var o=Object.keys(r).sort();return Object(b.jsxs)("div",{className:"col-5",children:[Object(b.jsx)("h2",{children:"Employees Birthday"}),o.length?Object(b.jsx)("ul",{className:"birthdays-list",children:o.map((function(e){return Object(b.jsx)(v,{name:j[e-1],users:r[e]},e)}))}):Object(b.jsx)("p",{children:"Employees List is empty"})]})},p=a.a.createContext(),N=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),c=t[0],a=t[1],n=Object(s.useState)({}),r=Object(l.a)(n,2),j=r[0],u=r[1],h=Object(s.useState)(localStorage.getItem("activeUsers")?JSON.parse(localStorage.getItem("activeUsers")):[]),m=Object(l.a)(h,2),d=m[0],x=m[1];Object(s.useEffect)((function(){o.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users").then((function(e){a(e.data);var t={A:{},B:{},C:{},D:{},E:{},F:{},G:{},H:{},I:{},J:{},K:{},L:{},M:{},N:{},O:{},P:{},Q:{},R:{},S:{},T:{},U:{},V:{},W:{},X:{},Y:{},Z:{}};e.data.forEach((function(e){var c=e.lastName.substr(0,1);t[c][e.id]=e})),u(t)})).catch((function(e){console.log(e)}))}),[]);return Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)("header",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("a",{href:"/",children:"Yalantis React.js School"})})}),Object(b.jsx)("main",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object.keys(j).length?Object(b.jsxs)(p.Provider,{value:{usersRaw:c,usersByAlphabet:j,activeUsers:d,changeUserStatus:function(e,t){var c;t?d.includes(e)||(c=[].concat(Object(i.a)(d),[e])):c=d.filter((function(t){return t!==e})),x(c),localStorage.setItem("activeUsers",JSON.stringify(c))}},children:[Object(b.jsx)(O,{}),Object(b.jsx)(f,{})]}):null})})})]})};c(41);r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(N,{})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.7cb822b9.chunk.js.map